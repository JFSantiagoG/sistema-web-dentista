<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚úÖ Consentimiento Quir√∫rgico - Consultorio Dental</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/forms.css" rel="stylesheet">
</head>
<body>
    <div class="container py-4">
        <!-- Encabezado -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <div>
                <h2>‚úÖ Consentimiento Informado: Procedimientos Quir√∫rgicos</h2>
                <p class="text-muted">Este formulario es necesario para autorizar al dentista a realizar procedimientos quir√∫rgicos espec√≠ficos y asegurar que el paciente est√° informado sobre los riesgos, beneficios y responsabilidades asociados.</p>
            </div>
            <button class="btn btn-outline-secondary" onclick="window.history.back()">
                ‚Üê Volver
            </button>
        </div>

        <!-- Indicador de pasos -->
        <div class="step-indicator">
            <div class="text-center">
                <div class="step active" id="step1-indicator">1</div>
                <div class="step-label">Datos del Doctor</div>
            </div>
            <div class="text-center mx-4 d-flex align-items-center">
                <div style="width: 60px; height: 2px; background-color: #dee2e6;"></div>
            </div>
            <div class="text-center">
                <div class="step" id="step2-indicator">2</div>
                <div class="step-label">Confirmaci√≥n del Paciente</div>
            </div>
        </div>

        <form id="consentForm">
            <!-- Paso 1: Datos del Doctor -->
            <div id="doctor-step" class="doctor-section">
                <!-- Secci√≥n 1: Identificaci√≥n del Paciente -->
                <div class="card section-card">
                    <div class="card-header bg-danger text-white">
                        <h5 class="mb-0">1. Identificaci√≥n del Paciente</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label required">Nombre del Paciente</label>
                                <select class="form-select" required>
                                    <option value="">Seleccionar paciente...</option>
                                    <option value="1">Ana Garc√≠a L√≥pez</option>
                                    <option value="2">Carlos Rodr√≠guez Mart√≠nez</option>
                                    <option value="3">Mar√≠a Fern√°ndez S√°nchez</option>
                                </select>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label class="form-label required">Fecha</label>
                                <input type="date" class="form-control" required>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label class="form-label">N√∫mero de paciente</label>
                                <input type="text" class="form-control" readonly placeholder="Se asigna autom√°ticamente">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Secci√≥n 4: Pron√≥stico y Condiciones Posoperatorias -->
                <div class="card section-card">
                    <div class="card-header bg-success text-white">
                        <h5 class="mb-0">4. Pron√≥stico y Condiciones Posoperatorias</h5>
                    </div>
                    <div class="card-body">
                        <p><strong>Estoy plenamente informado y acepto que el pron√≥stico para el procedimiento antes mencionado es:</strong></p>
                        <div class="mb-4">
                            <textarea class="form-control" rows="3" placeholder="Especificar el pron√≥stico del procedimiento..." required></textarea>
                        </div>
                        
                        <p><strong>Adem√°s se me ha explicado de manera comprensible las condiciones posoperatorias normales del procedimiento que en t√©rminos generales son:</strong></p>
                        <div class="mb-3">
                            <textarea class="form-control" rows="3" placeholder="Describir las condiciones posoperatorias normales..." required></textarea>
                        </div>
                    </div>
                </div>

                <!-- Secci√≥n 5: Tiempo de Recuperaci√≥n y Cicatrices -->
                <div class="card section-card">
                    <div class="card-header bg-primary text-white">
                        <h5 class="mb-0">5. Tiempo de Recuperaci√≥n y Cicatrices</h5>
                    </div>
                    <div class="card-body">
                        <p>Se me ha informado que este tratamiento presenta un tiempo de recuperaci√≥n de 
                            <input type="number" class="form-control d-inline" style="width: 100px;" min="1" max="365" placeholder="7" required> 
                            d√≠as aproximadamente y que en procedimientos quir√∫rgicos puede existir la presencia de cicatrices posoperatorias.</p>
                    </div>
                </div>

                <!-- Secci√≥n 7: Acuerdo Econ√≥mico -->
                <div class="card section-card">
                    <div class="card-header bg-dark text-white">
                        <h5 class="mb-0">7. Acuerdo Econ√≥mico</h5>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <label class="form-label required">Acuerdo econ√≥mico relacionado con el procedimiento quir√∫rgico</label>
                            <input type="text" class="form-control" placeholder="Especificar el acuerdo econ√≥mico..." required>
                        </div>
                    </div>
                </div>

                <!-- Bot√≥n para siguiente paso -->
                <div class="text-center mt-4">
                    <button type="button" class="btn btn-danger btn-lg btn-step" onclick="showPatientStep()">
                        Siguiente ‚Üí Confirmaci√≥n del Paciente
                    </button>
                </div>
            </div>

            <!-- Paso 2: Confirmaci√≥n del Paciente -->
            <div id="patient-step" class="patient-section">
                <!-- Secci√≥n 1: Identificaci√≥n del Paciente (solo lectura) -->
                <div class="card section-card">
                    <div class="card-header bg-danger text-white">
                        <h5 class="mb-0">1. Identificaci√≥n del Paciente</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Nombre del Paciente</label>
                                <input type="text" class="form-control" value="Ana Garc√≠a L√≥pez" readonly>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label class="form-label">Fecha</label>
                                <input type="text" class="form-control" value="2024-05-15" readonly>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label class="form-label">N√∫mero de paciente</label>
                                <input type="text" class="form-control" value="PAC-001" readonly>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Secci√≥n 2: Historia Cl√≠nica y Responsabilidad del Paciente -->
                <div class="card section-card">
                    <div class="card-header bg-warning text-dark">
                        <h5 class="mb-0">2. Historia Cl√≠nica y Responsabilidad del Paciente</h5>
                    </div>
                    <div class="card-body">
                        <p>Expresto bajo protesta de decir la verdad que no he omitido o alterado datos al responder la historia cl√≠nica espec√≠ficamente en los puntos relacionados con: Alergias, automedicaci√≥n, consumo de estimulantes o drogas, embarazo, trastornos presentes provocados por intervenciones anteriores (quir√∫rgicas o cl√≠nicas) o debidas a la administraci√≥n de medicamentos, anestesia o presencia de trastornos tales como desmayos o hemorragias.</p>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="historiaCheck" required>
                            <label class="form-check-label required" for="historiaCheck">
                                He respondido sinceramente a todas las preguntas de mi historia cl√≠nica.
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Secci√≥n 3: Consentimiento para Anestesia -->
                <div class="card section-card">
                    <div class="card-header bg-info text-white">
                        <h5 class="mb-0">3. Consentimiento para Anestesia</h5>
                    </div>
                    <div class="card-body">
                        <p>Doy el consentimiento para la administraci√≥n de los anest√©sicos que se consideren necesarios, se me ha explicado y he comprendido que el tipo de anestesia, la t√©cnica empleada y las molestias provocadas como resultado de su administraci√≥n son temporales. Comprendo que cualquier forma de anestesia entra√±a un riesgo y la posibilidad de complicaciones, lesiones y muy raramente la muerte.</p>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="anestesiaCheck" required>
                            <label class="form-check-label required" for="anestesiaCheck">
                                Conozco y acepto los riesgos asociados a la anestesia y doy mi consentimiento para su uso.
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Secci√≥n 4: Pron√≥stico y Condiciones Posoperatorias (solo lectura) -->
                <div class="card section-card">
                    <div class="card-header bg-success text-white">
                        <h5 class="mb-0">4. Pron√≥stico y Condiciones Posoperatorias</h5>
                    </div>
                    <div class="card-body">
                        <p><strong>Pron√≥stico del procedimiento:</strong></p>
                        <div class="mb-3">
                            <textarea class="form-control" rows="2" readonly>Recuperaci√≥n completa en 2 semanas con buen pron√≥stico funcional y est√©tico.</textarea>
                        </div>
                        
                        <p><strong>Condiciones posoperatorias normales:</strong></p>
                        <div class="mb-3">
                            <textarea class="form-control" rows="2" readonly>Hinchaz√≥n moderada los primeros 3 d√≠as, posible molestia al masticar, mantenimiento de higiene bucal suave.</textarea>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="pronosticoCheck" required>
                            <label class="form-check-label required" for="pronosticoCheck">
                                He sido informado y entiendo el pron√≥stico y condiciones posoperatorias del procedimiento.
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Secci√≥n 5: Tiempo de Recuperaci√≥n y Cicatrices (solo lectura) -->
                <div class="card section-card">
                    <div class="card-header bg-primary text-white">
                        <h5 class="mb-0">5. Tiempo de Recuperaci√≥n y Cicatrices</h5>
                    </div>
                    <div class="card-body">
                        <p>Tiempo de recuperaci√≥n: <strong>7 d√≠as</strong> aproximadamente y puede existir la presencia de cicatrices posoperatorias.</p>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="recuperacionCheck" required>
                            <label class="form-check-label required" for="recuperacionCheck">
                                He sido informado sobre el tiempo de recuperaci√≥n y posibles cicatrices.
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Secci√≥n 6: Responsabilidad Personal del Paciente -->
                <div class="card section-card">
                    <div class="card-header bg-secondary text-white">
                        <h5 class="mb-0">6. Responsabilidad Personal del Paciente</h5>
                    </div>
                    <div class="card-body">
                        <p>Me hago solidariamente responsable del cuidado de mi boca, a trav√©s de una correcta higiene, el control de mi dieta, y el seguimiento de las indicaciones del profesional.</p>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="responsabilidadCheck" required>
                            <label class="form-check-label required" for="responsabilidadCheck">
                                Acepto estar responsable del cuidado de mi salud bucal seg√∫n las indicaciones proporcionadas.
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Secci√≥n 7: Acuerdo Econ√≥mico (solo lectura) -->
                <div class="card section-card">
                    <div class="card-header bg-dark text-white">
                        <h5 class="mb-0">7. Acuerdo Econ√≥mico</h5>
                    </div>
                    <div class="card-body">
                        <p><strong>Acuerdo econ√≥mico:</strong> $15,000.00 MXN - Pago en 3 mensualidades sin intereses</p>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="economicoCheck" required>
                            <label class="form-check-label required" for="economicoCheck">
                                He sido informado y acepto las condiciones econ√≥micas del tratamiento.
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Secci√≥n 8: Firmas Electr√≥nicas -->
                <div class="card section-card">
                    <div class="card-header bg-danger text-white">
                        <h5 class="mb-0">8. Firmas Electr√≥nicas</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6 mb-4">
                                <label class="form-label required">Firma del Paciente</label>
                                <div class="signature-area" onclick="alert('Funcionalidad de firma digital - pr√≥ximamente')">
                                    <span class="text-muted">Click para firmar electr√≥nicamente</span>
                                </div>
                                <small class="text-muted">O subir imagen de firma</small>
                                <input type="file" class="form-control mt-1" accept="image/*" required>
                            </div>
                            <div class="col-md-6 mb-4">
                                <label class="form-label required">Firma del Doctor</label>
                                <div class="signature-area" onclick="alert('Funcionalidad de firma digital - pr√≥ximamente')">
                                    <span class="text-muted">Click para firmar electr√≥nicamente</span>
                                </div>
                                <small class="text-muted">O subir imagen de firma</small>
                                <input type="file" class="form-control mt-1" accept="image/*" required>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Botones de Acci√≥n -->
                <div class="text-center mt-4">
                    <button type="button" class="btn btn-outline-secondary btn-lg me-2" onclick="showDoctorStep()">
                        ‚Üê Volver
                    </button>
                    <button type="button" class="btn btn-outline-primary btn-lg me-2">
                        üíæ Guardar Borrador
                    </button>
                    <button type="submit" class="btn btn-success btn-lg">
                        üì§ Enviar Formulario
                    </button>
                    <button type="button" class="btn btn-info btn-lg ms-2">
                        üñ®Ô∏è Descargar PDF
                    </button>
                </div>
            </div>
        </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../js/forms.js"></script>
</body>
</html>